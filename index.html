<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>CHEF LIL J — recipes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Typography: Titles in Roboto (ALL CAPS), body in EB Garamond -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500&family=Roboto:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#ffffff;
      --text:#141414;
      --muted:#6a6a6a;
      --line:#e7e7e7;
      --maxw:1100px;
      --radius:12px;
      --pad:16px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text)}
    body{font-family:"EB Garamond", serif;-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}
    .container{max-width:var(--maxw);margin:0 auto;padding:0 var(--pad)}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    /* Header: ultra-minimal */
    header{position:sticky;top:0;background:rgba(255,255,255,.85);backdrop-filter:blur(10px);border-bottom:1px solid var(--line)}
    .bar{display:grid;grid-template-columns:auto 1fr auto;gap:12px;align-items:center;padding:10px 0}
    .brand{font-family:"Roboto",system-ui,sans-serif;text-transform:uppercase;letter-spacing:.12em;font-weight:700;font-size:15px}

    /* Search takes center stage */
    .search-wrap{display:flex;align-items:center}
    #q{width:100%;appearance:none;border:none;border-bottom:1px solid var(--line);padding:10px 8px 12px;font:inherit}
    #q::placeholder{color:var(--muted)}
    #q:focus{outline:none;border-color:#bbb}
    .kbd{font-family:"Roboto",sans-serif;font-size:11px;border:1px solid var(--line);padding:2px 6px;border-radius:6px;margin-left:8px;color:var(--muted)}

    /* Controls: clean, no chrome */
    .controls{display:flex;gap:10px;align-items:center}
    .select{position:relative}
    .select select{appearance:none;background:transparent;border:1px solid var(--line);padding:8px 28px 8px 10px;border-radius:999px;font:inherit}
    .select:after{content:"▾";position:absolute;right:10px;top:50%;transform:translateY(-50%);font-size:11px;color:var(--muted)}

    /* Results header */
    .results-bar{display:flex;align-items:center;justify-content:space-between;padding:18px 0 8px}
    .results-bar .count{color:var(--muted);font-size:14px}

    /* Grid: image-first, no borders or shadows */
    .grid{display:grid;gap:18px;grid-template-columns:repeat(12,1fr)}
    @media (max-width:1100px){.grid{grid-template-columns:repeat(8,1fr)}}
    @media (max-width:720px){.grid{grid-template-columns:repeat(4,1fr)}}
    .card{grid-column:span 4}
    .media{aspect-ratio:4/3;background:#f7f7f7;display:block;border-radius:6px;overflow:hidden}
    .media>img{width:100%;height:100%;object-fit:cover;display:block}
    .title{margin:.55rem 0 0;font-family:"Roboto",sans-serif;text-transform:uppercase;letter-spacing:.08em;font-weight:700;font-size:13px;line-height:1.35}
    .meta{margin:.1rem 0 0;color:var(--muted);font-size:13px}

    /* Footer note */
    footer{border-top:1px solid var(--line);margin-top:36px}
    footer .foot{padding:14px 0;color:var(--muted);font-size:13px}
  </style>
</head>
<body>
  <a href="#main" class="sr-only">Skip to content</a>
  <header>
    <div class="container">
      <div class="bar">
        <div class="brand">CHEF LIL J</div>

        <div class="search-wrap">
          <label for="q" class="sr-only">Search by ingredient or keyword</label>
          <input id="q" type="search" placeholder="Search by ingredient, keyword" aria-label="Search recipes" />
          <span class="kbd" aria-hidden="true">/</span>
        </div>

        <div class="controls" aria-label="Filters and sorting">
          <div class="select">
            <label class="sr-only" for="ingredient">Ingredient</label>
            <select id="ingredient">
              <option value="">Any ingredient</option>
            </select>
          </div>
          <div class="select">
            <label class="sr-only" for="sort">Sort</label>
            <select id="sort">
              <option value="relevance">Relevance</option>
              <option value="random">Random</option>
              <option value="alpha">A–Z</option>
              <option value="prep">Prep time</option>
              <option value="warm">First warm day</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main id="main" class="container" tabindex="-1">
    <div class="results-bar">
      <div class="count" id="count">Search: all recipes</div>
    </div>
    <section id="grid" class="grid" role="list"></section>
  </main>

  <footer>
    <div class="container">
      <div class="foot">© <span id="year"></span> CHEF LIL J</div>
    </div>
  </footer>

  <script>
    // ===== Demo data (swap for your CMS/JSON) =====
    const RECIPES = [
      {id:"pad-thai",title:"Zesty Pad Thai",img:"images/pad-thai.jpg",ingredients:["rice noodles","chicken","tamarind","soy sauce","lime","peanuts","spring onion","coriander","garlic"],tags:["noodles","quick","street-food","first-warm-day"],prepTime:25},
      {id:"courgette-ribbons",title:"Courgette Ribbon Salad",img:"images/courgette.jpg",ingredients:["courgette","lemon","olive oil","parmesan","mint","chili"],tags:["salad","summer","first-warm-day"],prepTime:12},
      {id:"cold-sesame-noodles",title:"Cold Sesame Noodles",img:"images/sesame-noodles.jpg",ingredients:["noodles","soy sauce","tahini","sesame oil","spring onion","chili"],tags:["noodles","cold","picnic","first-warm-day"],prepTime:15},
      {id:"roasted-cauliflower-tahini",title:"Roasted Cauliflower + Tahini",img:"images/cauli.jpg",ingredients:["cauliflower","tahini","lemon","garlic","parsley"],tags:["roast","comfort"],prepTime:35},
      {id:"crispy-rosti-beet",title:"Crispy Rösti with Beet",img:"images/rosti.jpg",ingredients:["potato","beetroot","spring onion","egg","yoghurt"],tags:["brunch","cozy"],prepTime:30},
      {id:"edamame-ginger-stirfry",title:"Edamame Ginger Stir-Fry",img:"images/edamame.jpg",ingredients:["edamame","ginger","garlic","soy sauce","sesame"],tags:["stir-fry","green","first-warm-day"],prepTime:14},
      {id:"cranberry-meatballs",title:"Cranberry Glazed Meatballs (IKEA hack)",img:"images/meatballs.jpg",ingredients:["beef meatballs","cranberry sauce","soy sauce","spring onion"],tags:["party","sweet-savory"],prepTime:20},
      {id:"summer-tomato-salad",title:"Summer Tomato Salad",img:"images/tomato.jpg",ingredients:["tomato","olive oil","basil","red onion","vinegar"],tags:["salad","summer","first-warm-day"],prepTime:10},
      {id:"miso-glazed-salmon",title:"Miso Glazed Salmon",img:"images/salmon.jpg",ingredients:["salmon","miso","soy sauce","ginger","honey"],tags:["weeknight","umami"],prepTime:22}
    ];

    // ===== Utilities =====
    const $ = (s,root=document)=>root.querySelector(s);
    const shuffle = arr => arr.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(v=>v[1]);

    // ===== State =====
    let state = { q:"", ingredient:"", sort:"relevance" };

    const grid = $('#grid');
    const countEl = $('#count');

    function scoreRelevance(r,q){
      if(!q) return 0;
      const t = r.title.toLowerCase();
      const ing = r.ingredients.map(i=>i.toLowerCase());
      const terms = q.split(/\s+/).filter(Boolean);
      let s=0;
      terms.forEach(term=>{
        if(t.includes(term)) s+=3;
        ing.forEach(i=>{ if(i.includes(term)) s+=1; });
      });
      return s;
    }

    function render(){
      const q = state.q.trim().toLowerCase();
      let list = RECIPES.filter(r=>{
        const matchesQ = !q || r.title.toLowerCase().includes(q) || r.ingredients.some(i=>i.toLowerCase().includes(q));
        const matchesIng = !state.ingredient || r.ingredients.map(x=>x.toLowerCase()).includes(state.ingredient);
        return matchesQ && matchesIng;
      });

      // Sorting
      if(state.sort === 'relevance'){
        list.sort((a,b)=>scoreRelevance(b,q)-scoreRelevance(a,q) || a.title.localeCompare(b.title));
      } else if(state.sort === 'alpha'){
        list.sort((a,b)=>a.title.localeCompare(b.title));
      } else if(state.sort === 'prep'){
        list.sort((a,b)=>a.prepTime - b.prepTime || a.title.localeCompare(b.title));
      } else if(state.sort === 'warm'){
        const score = r => (r.tags.includes('first-warm-day')?2:0) + (r.tags.includes('summer')?1:0) - (r.prepTime/200);
        list.sort((a,b)=>score(b)-score(a) || a.title.localeCompare(b.title));
      } else if(state.sort === 'random'){
        list = shuffle(list);
      }

      // Paint
      grid.innerHTML = '';
      if(!list.length){
        countEl.textContent = 'No results';
        return;
      }
      countEl.textContent = `Search: ${list.length} result${list.length>1?'s':''}${q?` for "${state.q}"`:''}`;

      list.forEach(r=>{
        const card = document.createElement('article');
        card.className = 'card';
        card.setAttribute('role','listitem');
        card.innerHTML = `
          <a class="media" href="#${r.id}" aria-label="${r.title}">
            <img src="${r.img}" alt="" loading="lazy" onerror="this.remove();this.parentElement.style.display='grid';this.parentElement.style.placeItems='center';this.parentElement.textContent='no image'"/>
          </a>
          <h3 class="title">${r.title}</h3>
          <div class="meta">${r.prepTime} min · ${r.ingredients.length} ingredients</div>
        `;
        grid.appendChild(card);
      });
    }

    // Populate ingredient select
    const ingSelect = $('#ingredient');
    Array.from(new Set(RECIPES.flatMap(r=>r.ingredients.map(i=>i.toLowerCase())))).sort().forEach(i=>{
      const o=document.createElement('option'); o.value=i; o.textContent=i; ingSelect.appendChild(o);
    });

    // Wire controls
    const qInput = $('#q');
    qInput.addEventListener('input', e=>{ state.q = e.target.value; render(); });
    ingSelect.addEventListener('change', e=>{ state.ingredient = e.target.value; render(); });
    const sortSelect = $('#sort');
    sortSelect.addEventListener('change', e=>{ state.sort = e.target.value; render(); });

    // Keyboard: focus search with '/'
    window.addEventListener('keydown', (e)=>{
      if(e.key === '/' && document.activeElement !== qInput){ e.preventDefault(); qInput.focus(); }
    });

    // Init
    document.getElementById('year').textContent = new Date().getFullYear();
    render();
  </script>
</body>
</html>
